{"version":3,"file":"static/js/616.fe7c36d1.chunk.js","mappings":"+SAEMA,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAoB,mCAAG,6FAC5BC,EAD4B,qCACQH,GADR,SAGXC,EAAAA,EAAAA,IAAUE,GAHC,cAG5BC,EAH4B,yBAI3BA,EAASC,KAAKC,SAJa,2CAAH,qDAOpBC,EAAkB,mCAAG,WAAMC,GAAN,gFAC1BL,EAD0B,+BACIH,EADJ,kBACiBQ,GADjB,SAGTP,EAAAA,EAAAA,IAAUE,GAHD,cAG1BC,EAH0B,yBAIzBA,EAASC,KAAKC,SAJW,2CAAH,sDAOlBG,EAAkB,mCAAG,WAAMC,GAAN,gFAC1BP,EAD0B,gBACXO,EADW,oBACGV,GADH,SAGTC,EAAAA,EAAAA,IAAUE,GAHD,cAG1BC,EAH0B,yBAIzBA,EAASC,MAJgB,2CAAH,sDAOlBM,EAAe,mCAAG,WAAMD,GAAN,gFACvBP,EADuB,gBACRO,EADQ,4BACcV,GADd,SAGNC,EAAAA,EAAAA,IAAUE,GAHJ,cAGvBC,EAHuB,yBAItBA,EAASC,KAAKO,MAJQ,2CAAH,sDAOfC,EAAkB,mCAAG,WAAMH,GAAN,gFAC1BP,EAD0B,gBACXO,EADW,4BACWV,GADX,SAGTC,EAAAA,EAAAA,IAAUE,GAHD,cAG1BC,EAH0B,yBAIzBA,EAASC,KAAKC,SAJW,2CAAH,qD,mHChC/B,GAAgB,OAAS,6BAA6B,UAAY,gCAAgC,KAAO,4B,SCgFzG,EAzEqB,WAAO,IAAD,IACzB,GAA0BQ,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAMnD,IAJAC,EAAAA,EAAAA,YAAU,YACRhB,EAAAA,EAAAA,IAAmBQ,GAASS,KAAKV,EAClC,GAAE,CAACC,IAECF,EAAL,CAIA,IACEY,EAOEZ,EAPFY,MACAC,EAMEb,EANFa,YACAC,EAKEd,EALFc,eACAC,EAIEf,EAJFe,aACAC,EAGEhB,EAHFgB,aACAC,EAEEjB,EAFFiB,SACAC,EACElB,EADFkB,OAEF,OACE,iCACE,SAAC,KAAD,CAAMC,UAAWC,EAAAA,OAAcC,GAAIf,EAAYgB,QAA/C,sBAGA,iBAAKH,UAAWC,EAAAA,UAAhB,WACE,0BACE,gBACED,UAAWC,EAAAA,IACXG,IACEvB,EAAMa,YAAN,8CAC2CA,GAD3C,oFAIFW,IAAKV,OAGT,4BACE,gBAAIK,UAAWC,EAAAA,GAAf,UACGR,EADH,KACYG,EAAaU,MAAM,EAAG,GADlC,QAGA,eAAGN,UAAWC,EAAAA,EAAd,qBAAgCJ,EAAaU,QAAQ,OACrD,eAAIP,UAAWC,EAAAA,GAAf,uBACA,cAAGD,UAAWC,EAAAA,EAAd,SAAwBH,KACxB,eAAIE,UAAWC,EAAAA,GAAf,qBACA,cAAGD,UAAWC,EAAAA,EAAd,SAAwBF,EAAOS,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,cAGjE,4BACE,eAAIX,UAAWC,EAAAA,GAAf,qCACA,2BACE,yBACE,SAAC,KAAD,CAAMD,UAAWC,EAAAA,KAAYC,GAAI,OAAjC,qBAIF,yBACE,SAAC,KAAD,CAAMF,UAAWC,EAAAA,KAAYC,GAAI,UAAjC,8BAMN,SAAC,EAAAU,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAvDL,CA2DF,C","sources":["Services/api.js","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '95f52d61b01969a69153f9d8a2d4bb9b';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingsMovies = async () => {\n  const url = `trending/movie/day?api_key=${KEY}`;\n\n  const response = await axios.get(url);\n  return response.data.results;\n};\n\nexport const fetchMoviesByQuery = async query => {\n  const url = `search/movie?api_key=${KEY}&query=${query}`;\n\n  const response = await axios.get(url);\n  return response.data.results;\n};\n\nexport const fetchMoviesDetails = async id => {\n  const url = `movie/${id}?api_key=${KEY}`;\n\n  const response = await axios.get(url);\n  return response.data;\n};\n\nexport const fetchMoviesCast = async id => {\n  const url = `movie/${id}/credits?api_key=${KEY}`;\n\n  const response = await axios.get(url);\n  return response.data.cast;\n};\n\nexport const fetchMoviesReviews = async id => {\n  const url = `movie/${id}/reviews?api_key=${KEY}`;\n\n  const response = await axios.get(url);\n  return response.data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"goBack\":\"MovieDetails_goBack__A3SmA\",\"container\":\"MovieDetails_container__yKjnD\",\"link\":\"MovieDetails_link__wv3O1\"};","import { Suspense, useRef } from 'react';\nimport { useEffect, useState } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { fetchMoviesDetails } from 'Services/api';\n\nimport style from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    fetchMoviesDetails(movieId).then(setMovie);\n  }, [movieId]);\n\n  if (!movie) {\n    return;\n  }\n\n  const {\n    title,\n    poster_path,\n    oryginal_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  } = movie;\n  return (\n    <>\n      <Link className={style.goBack} to={backLinkRef.current}>\n        Go back\n      </Link>\n      <div className={style.container}>\n        <div>\n          <img\n            className={style.img}\n            src={\n              movie.poster_path\n                ? `https://www.themoviedb.org/t/p/w500/${poster_path}`\n                : `https://www.banffventureforum.com/wp-content/uploads/2019/08/no-photo-icon-22.png`\n            }\n            alt={oryginal_title}\n          />\n        </div>\n        <div>\n          <h2 className={style.h2}>\n            {title} ({release_date.slice(0, 5)})\n          </h2>\n          <p className={style.p}>Rating: {vote_average.toFixed(2)}</p>\n          <h3 className={style.h3}>Overview</h3>\n          <p className={style.p}>{overview}</p>\n          <h3 className={style.h3}>Genres</h3>\n          <p className={style.p}>{genres.map(genre => genre.name).join(' ')}</p>\n        </div>\n      </div>\n      <div>\n        <h2 className={style.h2}>Additional information</h2>\n        <ul>\n          <li>\n            <Link className={style.link} to={'cast'}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link className={style.link} to={'reviews'}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["KEY","axios","fetchTrendingsMovies","url","response","data","results","fetchMoviesByQuery","query","fetchMoviesDetails","id","fetchMoviesCast","cast","fetchMoviesReviews","useState","movie","setMovie","movieId","useParams","location","useLocation","backLinkRef","useRef","state","from","useEffect","then","title","poster_path","oryginal_title","release_date","vote_average","overview","genres","className","style","to","current","src","alt","slice","toFixed","map","genre","name","join","Suspense","fallback"],"sourceRoot":""}